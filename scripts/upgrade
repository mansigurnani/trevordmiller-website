#!/bin/sh
set -euo pipefail

# -----------------------------------------------------------------
# Operating system (macOS)
# -----------------------------------------------------------------

echo "Upgrading operating system"
sudo softwareupdate -ia

# -----------------------------------------------------------------
# Environment (Unix)
# -----------------------------------------------------------------

echo "Upgrading environment package manager"
brew update

echo "Upgrading apps"
brew cask upgrade 1password || true

# -----------------------------------------------------------------
# Editor (Vim)
# -----------------------------------------------------------------

echo "Upgrading editor"
brew upgrade vim || true

echo "Upgrading editor plugin manager"
vim +PlugUpgrade +qall

echo "Upgrading editor plugins"
vim +PlugUpdate +PlugClean +qall

# -----------------------------------------------------------------
# Version control (Git)
# -----------------------------------------------------------------

echo "Upgrading version control"
brew upgrade git || true

# -----------------------------------------------------------------
# Application programming (JavaScript)
# -----------------------------------------------------------------

echo "Upgrading application programming toolchain"
. ~/.nvm/nvm.sh
nvm install --lts
nvm use --lts

# -----------------------------------------------------------------
# Systems programming (Rust)
# -----------------------------------------------------------------

echo "Upgrading systems programming toolchain"
rustup update

echo "Upgrading static site generator"
brew upgrade zola || true
