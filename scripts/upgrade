#!/bin/sh
set -euo pipefail

# -----------------------------------------------------------------
# Environment (Unix)
# -----------------------------------------------------------------

echo "Upgrading system package manager"
brew update

# -----------------------------------------------------------------
# Editor (Vim)
# -----------------------------------------------------------------

echo "Upgrading editor system packages"
brew upgrade vim || true

echo "Upgrading editor plugins"
vim +PlugUpgrade +PlugUpdate +PlugClean +qall

# -----------------------------------------------------------------
# Version control (Git)
# -----------------------------------------------------------------

echo "Upgrading version control system packages"
brew upgrade git || true

# -----------------------------------------------------------------
# Language (Rust)
# -----------------------------------------------------------------

echo "Upgrading language toolchain"
rustup update

# -----------------------------------------------------------------
# Language (JavaScript)
# -----------------------------------------------------------------

echo "Upgrading language toolchain"
. ~/.nvm/nvm.sh
nvm install --lts
nvm use --lts

# -----------------------------------------------------------------
# Operating system (macOS)
# -----------------------------------------------------------------

echo "Upgrading app system packages"
brew cask upgrade 1password || true

echo "Upgrading operating system"
sudo softwareupdate -ia
